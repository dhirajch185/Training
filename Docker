Docker images are layers of images compressed together.

--------------------------------------------------

To create the docker group and add your user:

Create the docker group.


 sudo groupadd docker

Add your user to the docker group.


 sudo usermod -aG docker $USER

remember to reboot the machine for it to work (in terminal just use 'sudo reboot' :)

to check if the user is added to the docker group just run 'groups your_linux_username'

-----------------------------------------------------



docker ps (list containers which are actively running)

docker ps --all (lists all containers which docker knows)

docker ps -aq (lists all the containers ids)



docker logs conatinername/ID (logs for troubleshooting applications) tip-- first few characters of the container ID should still show the container

without logs command, we can use another way like - "docker container start --attach containerID" (will attach a terminal to the container container to show the logs)

docker run hello-world:linux ( creates a container from 'hello-world' image, stated it and attached terminal to show log)

docker run = docker container create + docker container start + docker container attach

Exit Code =0 means the the container created with the correct entrypoint.

docker rm containerID (delete the container)

docker rm -aq | xargs docker rm  (pulls the list of container ids from the left and feed it to docker rm on the right using linux xargs command)

docker run -d containerid (will run the docker in 'detached' mode. That means no terminal to check logs is attached to the container. so if the application hangs or keeps running, you are not stuck in the interactive terminal forver)

docker stop containerID (should stop the container after trying to gracefully stop the application first)

docker stop -t 0 ContainerID (Forcefully stop the container and the application. This might cause data loss of the application)  



------------Build own docker images and push it to dockerhub.--------------
Example Dockerfile is like below.


FROM ubuntu       (dockr Image from which your image will be buiilt based of) 

LABEL maintainer="Carlos Nunez <dev@carlosnunez.me>"  (To provide details of the maintainer of the image)

USER root                      (to mention docker which user will execute the commands under this line here its root user)

COPY ./entrypoint.bash /           (copies files from a directory provided, to the Docker build command to the container image.)

RUN apt -y update                  (Run statements are commands that customize our image. )
RUN apt -y install curl bash         (This is a great place to install additional software or configure files needed by your application. Since our example script needs "Curl" and "Bash" to run, this Docker file uses run commands to install those programs. )
RUN chmod 755 /entrypoint.bash

USER nobody (Here we're using the user command to set the default users for containers created from this image to the powerless "nobody" user. This ensures that we can't break out of the container and potentially change important files on our host.)

ENTRYPOINT [ "/entrypoint.bash"  (The entry point tells Docker what command containers created from this image should run. You can also use the CMD command to do this, though there are differences. )


------------------------------------------------------------------------------------------------------------------

Just like containers, every docker image will have an ID.

docker build -t Our-first-imagename --file Dockerfile path/to/files_included_into_dockerImage

docker run Our-first-imagename (to run our custom created image)


docker images (list all the images created)

docker rmi image_name (to delete the created image)


---------------------------------------------------------------------------------------------------------------------
We can run 'docker exec container_ID ShellCommand_like_date' to execute commands on the container using CLI

You can even use exec to start terminal sessions within the container. This can be really helpful while troubleshooting. Let's say that we wanted to use a bash cell within the container to do this. Since we're going to be entering keystrokes, we need to tell exec that this command needs to be interactive. Additionally, since we're starting a shell, we'll also need to tell Docker that we'll need something called a quote, unquote, sudo TTY, so that our terminal can properly interact with the container's terminal. We can use the dash dash interactive and dash dash TTY options respectively to enable both of those modes. So, putting that all together, the command I'm going to run is docker exec dash dash interactive dash dash TTY, then the ID for the container, or D 9 0 D, like we saw earlier, and then finally, the shell that I want to use, or bash in this case. Once I hit enter, I'm greeted with a prompt and can run additional commands, which is very exciting. Since I'm done here, I'm going to press Control D to exit out of the shell, but be really careful here. Pressing this keystroke too many times will log you out of your real terminal.


docker exec --interactive --tty container_ID bash
